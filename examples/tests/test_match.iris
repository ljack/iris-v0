;; Test fixture: match/case behavior for AST helpers.
;; Uses compiler modules from examples/real/compiler.
(program
  (module (name "test_match") (version 1))
  (imports (import "../real/compiler/ast" (as "ast")))
  (defs
    (deffn (name test) (args (v ast.Value)) (ret ast.IrisType) (eff !Pure)
      (doc "Exercise match/case on Value variants.")
      (body
        (match v
          (case (tag "I64" (i)) (tag "I64" (record)))
          (case (tag "_") (tag "I64" (record)))
        )
      )
    )
  )
)
