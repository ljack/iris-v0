Running IO Read Dir...
âœ… PASS IO Read Dir
Running t130_evaluator...
Fallback Call for op: env_get
Fallback Call for op: eval
Fallback Call for op: env_put
Fallback Call for op: eval
Fallback Call for op: eval
Fallback Call for op: eval
Fallback Call for op: eval
Fallback Call for op: eval_intrinsic
Fallback Call for op: eval
Fallback Call for op: eval
Eval(42) = { kind: 'Tagged', tag: 'I64', value: { kind: 'I64', value: 42n } }
Eval(+ 10 20) = { kind: 'Tagged', tag: 'I64', value: { kind: 'I64', value: 30n } }
T130 Passed: Evaluator works for Literals and Intrinsics!
Eval(let x 10 (+ x 5)) = { kind: 'Tagged', tag: 'I64', value: { kind: 'I64', value: 15n } }
Eval(if true 10 20) = { kind: 'Tagged', tag: 'I64', value: { kind: 'I64', value: 10n } }
T130 Passed: Evaluator works for Let/If/Intrinsics!
Running t132_self_hosted_typechecker...
Running T132: Self-hosted Type Checker...
Fallback Call for op: env_get
Fallback Call for op: type_check
Fallback Call for op: env_put
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_eq
Checking type_check. Ret: {"type":"Result","ok":{"type":"Named","name":"IrisType"},"err":{"type":"Str"}}
type_check(Literal(42)) = {"kind":"Tagged","tag":"Ok","value":{"kind":"Tagged","tag":"I64","value":{"kind":"Record","fields":{}}}}
type_check(Literal(true)) = {"kind":"Tagged","tag":"Ok","value":{"kind":"Tagged","tag":"Bool","value":{"kind":"Record","fields":{}}}}
type_check(If(true, 10, 20)) = {"kind":"Tagged","tag":"Ok","value":{"kind":"Tagged","tag":"I64","value":{"kind":"Record","fields":{}}}}
type_check(If(true, 10, true)) = {"kind":"Tagged","tag":"Err","value":{"kind":"Str","value":"If branches must have same type"}}
type_check(Let(x, 10, x)) = {"kind":"Tagged","tag":"Ok","value":{"kind":"Tagged","tag":"I64","value":{"kind":"Record","fields":{}}}}
type_check(+ 10 20) = {"kind":"Tagged","tag":"Ok","value":{"kind":"Tagged","tag":"I64","value":{"kind":"Record","fields":{}}}}
type_check(+ 10 true) = {"kind":"Tagged","tag":"Err","value":{"kind":"Str","value":"Right operand of + must be I64"}}
T132 Passed: Self-hosted Type Checker verification (including Intrinsics) successful!
Running t133_self_hosted_codegen...
Running T133: Self-hosted Code Generator...
Fallback Call for op: quote_str
Fallback Call for op: codegen
Fallback Call for op: codegen
Fallback Call for op: codegen
Fallback Call for op: codegen
Fallback Call for op: codegen
Fallback Call for op: get_arg
Fallback Call for op: codegen
Fallback Call for op: get_arg
Fallback Call for op: codegen
OK: 42n
OK: true
OK: 'abc'
OK: (1n + 2n)
OK: ((x) => { return x; })(10n)
OK: (true ? 1n : 0n)
T133 Passed: Self-hosted Code Generator produces valid TS strings!
Running t134_self_hosted_wasm_codegen...
Running T134: Self-hosted WASM Code Generator...
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_record_items
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: gen_list_items
Fallback Call for op: gen_record_items
OK: (i64.const 42)
OK: (i64.const 1)\n(i64.const 2)\n(i64.add)
T134 Passed: Self-hosted WASM Code Generator produces valid WAT fragments!
Running t135_compiler_pipeline...
Running T135: Compiler Pipeline Integration...
Fallback Call for op: lexer.tokenize
Fallback Call for op: parser.parse
Fallback Call for op: typecheck.env_new
Fallback Call for op: typecheck.type_check
Fallback Call for op: codegen_wasm.codegen_wasm
Fallback Call for op: codegen.codegen
Testing compile_file('examples/hello.iris', 'ts')...
Fallback Call for op: env_get
Fallback Call for op: type_check
Fallback Call for op: env_put
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_eq
Fallback Call for op: env_get
Fallback Call for op: type_check
Fallback Call for op: env_put
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_eq
Fallback Call for op: env_get
Fallback Call for op: type_check
Fallback Call for op: env_put
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_eq
Fallback Call for op: env_get
Fallback Call for op: type_check
Fallback Call for op: env_put
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_eq
Fallback Call for op: quote_str
Fallback Call for op: codegen
Fallback Call for op: codegen
Fallback Call for op: codegen
Fallback Call for op: codegen
Fallback Call for op: codegen
Fallback Call for op: get_arg
Fallback Call for op: codegen
Fallback Call for op: get_arg
Fallback Call for op: codegen
Fallback Call for op: quote_str
Fallback Call for op: codegen
Fallback Call for op: codegen
Fallback Call for op: codegen
Fallback Call for op: codegen
Fallback Call for op: codegen
Fallback Call for op: get_arg
Fallback Call for op: codegen
Fallback Call for op: get_arg
Fallback Call for op: codegen
TS Output: ((x) => { return (x + 5n); })(10n)
Testing compile_file('examples/hello.iris', 'wasm')...
Fallback Call for op: env_get
Fallback Call for op: type_check
Fallback Call for op: env_put
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_eq
Fallback Call for op: env_get
Fallback Call for op: type_check
Fallback Call for op: env_put
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_eq
Fallback Call for op: env_get
Fallback Call for op: type_check
Fallback Call for op: env_put
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_eq
Fallback Call for op: env_get
Fallback Call for op: type_check
Fallback Call for op: env_put
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_check
Fallback Call for op: type_check
Fallback Call for op: type_eq
Fallback Call for op: type_eq
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_record_items
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: gen_list_items
Fallback Call for op: gen_record_items
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_record_items
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: gen_list_items
Fallback Call for op: gen_record_items
WASM Output: (i64.const 10)
(local.set $x)
(local.get $x)
(i64.const 5)
(i64.add)
T135 Passed: Compiler Pipeline works!
Running t136_wasm_control_flow...
Running T136: WASM Control Flow...
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_record_items
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: gen_list_items
Fallback Call for op: gen_record_items
OK: (i32.const 1)\n(if (result i64)\n(then (i64.const 1))\n(else (i64.const 0))\n)
OK: (i64.const 10)\n(call $foo)
T136 Passed: WASM Control Flow (If/Call) works!
Running t137_wasm_data_structures...
Running T137: WASM Data Structures...
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_record_items
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: gen_list_items
Fallback Call for op: gen_record_items
Output List([1, 2]):
 (call $alloc (i64.const 24))
(local.tee $t0)
(i64.store (i32.wrap_i64 (local.get $t0)) (i64.const 2))
(i64.store (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 8))) (i64.const 1))
(i64.store (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 16))) (i64.const 2))

(local.get $t0)
Output list.get:
 (call $alloc (i64.const 24))
(local.tee $t0)
(i64.store (i32.wrap_i64 (local.get $t0)) (i64.const 2))
(i64.store (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 8))) (i64.const 10))
(i64.store (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 16))) (i64.const 20))

(local.get $t0)
(local.set $t0)
(i64.const 1)
(local.set $t1)
(if (result i64) (i64.lt_u (local.get $t1) (i64.load (i32.wrap_i64 (local.get $t0))))
  (then
    (call $alloc (i64.const 16))
(local.set $t2)
    (i64.store (i32.wrap_i64 (local.get $t2)) (i64.const 1))
    (i64.store (i32.wrap_i64 (i64.add (local.get $t2) (i64.const 8))) 
      (i64.load (i32.wrap_i64 (i64.add (i64.add (local.get $t0) (i64.const 8)) (i64.mul (local.get $t1) (i64.const 8)))))
    )
    (local.get $t2)
  )
  (else
    (call $alloc (i64.const 16))
(local.set $t2)
    (i64.store (i32.wrap_i64 (local.get $t2)) (i64.const 0))
    (local.get $t2)
  )
)
T137 Passed: List generation and Access (list.get) scaffold looks correct.
Output Tuple(1):
 (call $alloc (i64.const 16))
(local.tee $t0)
(i64.store (i32.wrap_i64 (local.get $t0)) (i64.const 1))
(i64.store (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 8))) (i64.const 1))

(local.get $t0)
Output Record{x:1}:
 (call $alloc (i64.const 16))
(local.tee $t0)
(i64.store (i32.wrap_i64 (local.get $t0)) (i64.const 1))
(i64.store (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 8))) (i64.const 1))

(local.get $t0)
T137 Passed: Tuple/Record generation verified.
Running t138_wasm_module...
Running T138: WASM Module Generation...
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_record_items
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: gen_list_items
Fallback Call for op: gen_record_items
Module Output:
 (module
  (import "host" "print" (func $print (param i64)))
  (memory $memory 1)
  (export "memory" (memory $memory))
  (global $heap_ptr (mut i64) (i64.const 16))
  (func $alloc (param $size i64) (result i64)
    (local $ptr i64)
    (global.get $heap_ptr)
    (local.set $ptr)
    (global.set $heap_ptr (i64.add (global.get $heap_ptr) (local.get $size)))
    (local.get $ptr)
  )
  (func $main (result i64)
    (local $t0 i64) (local $t1 i64) (local $t2 i64) (local $t3 i64) 
    (i64.const 42)
(call $print)
(i64.const 1)
  )
  (export "main" (func $main))
)
T138 Passed: WASM Module Generation looks correct.
Running t140_self_hosting_verification...
Running T140: Self-Hosting Verification...
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_record_items
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: gen_list_items
Fallback Call for op: gen_record_items
Input Source:
 (let (x 10) (+ x 5))

Generated WASM:
 (module
  (import "host" "print" (func $print (param i64)))
  (memory $memory 1)
  (export "memory" (memory $memory))
  (global $heap_ptr (mut i64) (i64.const 16))
  (func $alloc (param $size i64) (result i64)
    (local $ptr i64)
    (global.get $heap_ptr)
    (local.set $ptr)
    (global.set $heap_ptr (i64.add (global.get $heap_ptr) (local.get $size)))
    (local.get $ptr)
  )
  (func $main (result i64)
    (local $t0 i64) (local $t1 i64) (local $t2 i64) (local $t3 i64) (local $x i64) 
    (i64.const 10)
(local.set $x)
(local.get $x)
(i64.const 5)
(i64.add)
  )
  (export "main" (func $main))
)
T140 Passed: Hello.iris compiled successfully!
Running t141_wasm_strings_runtime...
Running T141: WASM Strings & Runtime...
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_record_items
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: gen_list_items
Fallback Call for op: gen_record_items
Generated WAT:
 (module
  (import "host" "print" (func $print (param i64)))
  (memory $memory 1)
  (export "memory" (memory $memory))
  (global $heap_ptr (mut i64) (i64.const 16))
  (func $alloc (param $size i64) (result i64)
    (local $ptr i64)
    (global.get $heap_ptr)
    (local.set $ptr)
    (global.set $heap_ptr (i64.add (global.get $heap_ptr) (local.get $size)))
    (local.get $ptr)
  )
  (func $main (result i64)
    (local $t0 i64) (local $t1 i64) (local $t2 i64) (local $t3 i64) 
    (call $alloc (i64.const 24))
(local.set $t0)
(i64.store (i32.wrap_i64 (local.get $t0)) (i64.const 16))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 8))) (i64.const 72))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 9))) (i64.const 101))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 10))) (i64.const 108))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 11))) (i64.const 108))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 12))) (i64.const 111))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 13))) (i64.const 32))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 14))) (i64.const 102))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 15))) (i64.const 114))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 16))) (i64.const 111))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 17))) (i64.const 109))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 18))) (i64.const 32))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 19))) (i64.const 87))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 20))) (i64.const 65))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 21))) (i64.const 83))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 22))) (i64.const 77))
(i64.store8 (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 23))) (i64.const 33))
(local.get $t0)
(call $print)
(i64.const 1)
  )
  (export "main" (func $main))
)
Executing in IrisWasmRuntime...
Hello from WASM!
T141 Passed: Strings printed correctly from WASM runtime!
Running t142_wasm_match...
Running T142: WASM Match...
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_record_items
Fallback Call for op: gen_string_bytes
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: codegen_wasm
Fallback Call for op: gen_list_items
Fallback Call for op: gen_list_items
Fallback Call for op: gen_record_items
Generated WAT:
 (module
  (import "host" "print" (func $print (param i64)))
  (memory $memory 1)
  (export "memory" (memory $memory))
  (global $heap_ptr (mut i64) (i64.const 16))
  (func $alloc (param $size i64) (result i64)
    (local $ptr i64)
    (global.get $heap_ptr)
    (local.set $ptr)
    (global.set $heap_ptr (i64.add (global.get $heap_ptr) (local.get $size)))
    (local.get $ptr)
  )
  (func $main (result i64)
    (local $t0 i64) (local $t1 i64) (local $t2 i64) (local $t3 i64) (local $opt i64) (local $v i64) 
    (call $alloc (i64.const 16))
(local.set $t0)
(i64.store (i32.wrap_i64 (local.get $t0)) (i64.const 1))
(i64.store (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 8))) (i64.const 42))
(local.get $t0)
(local.set $opt)
(local.get $opt)
(local.set $t0)
(if (result i64) (i64.eq (i64.load (i32.wrap_i64 (local.get $t0))) (i64.const 0))
  (then
(i64.const 0)
  )
  (else
(if (result i64) (i64.eq (i64.load (i32.wrap_i64 (local.get $t0))) (i64.const 1))
  (then
(local.set $v (i64.load (i32.wrap_i64 (i64.add (local.get $t0) (i64.const 8)) )))
(local.get $v)
  )
  (else
(unreachable) ;; Exhaustive check failed or empty match
  )
)
  )
)
  )
  (export "main" (func $main))
)
WASM Execution Result: 42n
T142 Passed: Match works in WASM!

Summary: 12 passed, 0 failed.
